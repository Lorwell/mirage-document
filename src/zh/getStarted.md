---
title: 小白入门指南
---

## 异步编程

### 为什么需要异步？

首先我们将一台服务器看成是一个工厂，其中有固定数量的车间（**cpu的核心**），还有用于长期保存和短期保存作物的仓库（**内存/硬盘**）。在这个工厂有很多的流水线（**进程**），远远的超过工厂车间的数量。为了这些流水线可以最大化的利用这些车间进行生产操作，于是诞生了调度系统（**操作系统**），每个流水线有很多的工人（**线程**），他们协同完成一个任务。在车间内不同流水线的工人共享这个车间，因为车间的大小有限，没办法同时让所有的工人一起工作，所以当某个工人需要某种材料而不能及时获取时，就会进入等待状态，调度系统就会立刻出现将他的状态保存，恢复另外工人的状态，让他进行工作（**上下文切换**）。

以上是同步编程模型对应的逻辑，那么在以上的工厂中有以下几个操作是非常昂贵的。

1. 工厂创建一个新的工人
2. 调度系统在调度工人的状态切换时

这些原因驱使我们**尽可能避免创建太多的线程，尽可能的避免操作系统发生上下文切换**，而异步编程的目的就是**消除阻塞，极大减少系统发生上下文切换**。

### 什么是异步

还是将服务器看成一个工厂，其中有固定数量的车间（**cpu的核心**），还有用于长期保存和短期保存作物的仓库（**内存/硬盘**）。在这个工厂有很多的流水线（**进程**），远远的超过工厂车间的数量。为了这些流水线可以最大化的利用这些车间进行生产操作，于是诞生了调度系统（**操作系统**）
